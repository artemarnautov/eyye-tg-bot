<!-- file: webapp/index.html -->
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>EYYE Feed</title>
    <link rel="stylesheet" href="/static/styles.css?v=2" />
  </head>
  <body>
    <div id="app" class="app">
      <!-- Экран онбординга -->
      <section id="onboarding-screen" class="screen">
        <!-- Шаг 1: город -->
        <div id="onboarding-step-city" class="onboarding-step">
          <h1 class="title">Где ты живёшь?</h1>
          <p class="subtitle">
            Это нужно, чтобы подмешивать в ленту локальные новости и контекст.
            Можно пропустить — тогда лента будет глобальной.
          </p>

          <input
            id="city-input"
            class="input"
            type="text"
            placeholder="Например: Москва, Лондон, Дубай"
            autocomplete="off"
          />

          <div class="buttons-row">
            <button id="city-next-btn" class="btn primary">
              Продолжить
            </button>
            <button id="city-skip-btn" class="btn secondary">
              Пропустить
            </button>
          </div>
        </div>

        <!-- Шаг 2: темы -->
        <div id="onboarding-step-topics" class="onboarding-step hidden">
          <h1 class="title">Что тебе интересно читать?</h1>
          <p class="subtitle">
            Выбери несколько тем — лента будет под тебя. Можно изменить выбор позже.
          </p>

          <div id="topics-container" class="topics-container"></div>

          <button id="topics-submit-btn" class="btn primary full-width">
            Сформировать ленту
          </button>
        </div>
      </section>

      <!-- Экран ленты -->
      <section id="feed-screen" class="screen hidden">
        <div id="feed-card-container" class="feed-card-container"></div>
      </section>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Телеметрия (EYYE TikTok-лайт сигналы) -->
    <script src="/static/telemetry.js?v=1"></script>
    <!-- v=2 — чтобы пробить кэш JS основного приложения -->
    <script src="/static/app.js?v=2"></script>
  </body>
</html>
